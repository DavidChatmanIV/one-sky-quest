/* ---------- 0) Local tokens (uses Passport vars if present) ---------- */
.skyrio-exchange {
  --sv-text: var(--pp-text, rgba(244, 246, 251, 0.95));
  --sv-muted: var(--pp-muted, rgba(244, 246, 251, 0.72));
  --sv-dim: rgba(244, 246, 251, 0.56);

  --sv-orange: var(--pp-orange, #ff8a2a);
  --sv-orange-2: var(--pp-orange-2, #ffb066);
  --sv-orange-soft: var(--pp-orange-soft, rgba(255, 138, 42, 0.14));
  --sv-orange-border: var(--pp-orange-border, rgba(255, 138, 42, 0.55));

  --sv-stroke: var(--pp-stroke, rgba(255, 255, 255, 0.12));
  --sv-surface-a: var(--pp-surface-a, rgba(255, 255, 255, 0.08));
  --sv-surface-b: var(--pp-surface-b, rgba(255, 255, 255, 0.03));

  --sv-shadow: 0 18px 44px rgba(0, 0, 0, 0.35);
  --sv-r-lg: 22px;
  --sv-r-md: 18px;
  --sv-r-sm: 14px;

  --sv-glow: 0 0 0 1px rgba(255, 138, 42, 0.12),
    0 10px 28px rgba(255, 138, 42, 0.18),
    0 2px 10px rgba(255, 138, 42, 0.12);
}

/* ---------- 1) Page wrapper ---------- */
.skyrio-exchange {
  color: var(--sv-text);
}

.sv-wrap {
  max-width: 1180px;
  margin: 0 auto;
  padding: 16px 16px 32px;
}

/* ---------- 2) Glass surfaces ---------- */
.glass {
  background: linear-gradient(180deg, var(--sv-surface-a), var(--sv-surface-b));
  border: 1px solid var(--sv-stroke);
  border-radius: var(--sv-r-md);
  box-shadow: var(--sv-shadow);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

.sv-header {
  padding: 14px 14px 12px;
  border-radius: var(--sv-r-lg);
  position: relative;
  overflow: hidden;
}

/* subtle Skyrio glow in header corners */
.sv-header::before {
  content: "";
  position: absolute;
  inset: -2px;
  pointer-events: none;
  background: radial-gradient(420px 240px at 18% 10%, rgba(120, 90, 255, 0.18), transparent 60%),
    radial-gradient(420px 240px at 82% 92%, rgba(255, 138, 42, 0.14), transparent 62%);
  filter: blur(10px);
  opacity: 0.9;
}

/* ---------- 3) Header elements ---------- */
.sv-title {
  margin: 0 !important;
  color: var(--sv-text) !important;
  letter-spacing: 0.2px;
}

.sv-sub {
  display: block;
  margin-top: 2px;
  color: var(--sv-muted) !important;
}

.sv-home-btn {
  border-radius: 999px !important;
  font-weight: 900 !important;
  background: rgba(0, 0, 0, 0.14) !important;
  border: 1px solid var(--sv-stroke) !important;
  color: var(--sv-text) !important;
}

.sv-home-btn:hover {
  border-color: rgba(255, 255, 255, 0.18) !important;
  background: rgba(255, 255, 255, 0.06) !important;
  transform: translateY(-1px);
}

/* Lv badge (Ant Badge count background is set via prop color, keep readable) */
.sv-level {
  display: flex;
  align-items: center;
}

.sv-ring {
  width: 56px;
  height: 56px;
  border-radius: 999px;
  padding: 4px;
  background: rgba(0, 0, 0, 0.18);
  border: 1px solid rgba(255, 255, 255, 0.14);
}

.skyrio-exchange .ant-progress-circle-path {
  stroke: rgba(255, 138, 42, 0.75) !important;
}
.skyrio-exchange .ant-progress-circle-trail {
  stroke: rgba(255, 255, 255, 0.10) !important;
}

.sv-balance {
  text-align: right;
  min-width: 150px;
}

.sv-balance .muted {
  color: var(--sv-muted) !important;
  font-weight: 700;
}

.sv-xp {
  margin-top: 4px;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 7px 12px;
  border-radius: 999px;
  background: rgba(255, 138, 42, 0.10);
  border: 1px solid rgba(255, 138, 42, 0.28);
  box-shadow: 0 0 0 1px rgba(255, 138, 42, 0.08);
  color: var(--sv-text);
  font-variant-numeric: tabular-nums;
}

.sv-xp b {
  color: rgba(255, 176, 102, 0.98);
  font-weight: 950;
}

/* ---------- 4) Controls row ---------- */
.sv-controls {
  margin-top: 10px;
  position: relative;
  z-index: 1; /* above header glow */
}

.sv-active-label {
  margin-top: 8px;
  font-size: 13px;
  color: var(--sv-muted);
}

.sv-active-label b {
  color: var(--sv-text);
}

/* Search */
.sv-search {
  border-radius: 999px !important;
}

.skyrio-exchange .sv-search .ant-input-affix-wrapper,
.skyrio-exchange .sv-search.ant-input-affix-wrapper {
  border-radius: 999px !important;
  background: rgba(0, 0, 0, 0.18) !important;
  border: 1px solid rgba(255, 255, 255, 0.14) !important;
  color: var(--sv-text) !important;
}

.skyrio-exchange .sv-search input {
  color: var(--sv-text) !important;
}

.skyrio-exchange .sv-search input::placeholder {
  color: rgba(244, 246, 251, 0.58) !important;
}

.skyrio-exchange .sv-search .ant-input-prefix {
  color: rgba(244, 246, 251, 0.58) !important;
}

/* Disabled “More filters” should still read (no washed-out white) */
.skyrio-exchange .ant-btn[disabled],
.skyrio-exchange button[disabled] {
  opacity: 0.92 !important;
  color: rgba(244, 246, 251, 0.70) !important;
  border-color: rgba(255, 255, 255, 0.14) !important;
  background: rgba(255, 255, 255, 0.05) !important;
}

/* ---------- 5) Segmented (Skyrio style, no white thumb) ---------- */
.sv-segment .ant-segmented {
  background: rgba(0, 0, 0, 0.16) !important;
  border: 1px solid rgba(255, 255, 255, 0.12) !important;
  border-radius: 16px !important;
  padding: 6px !important;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.10);
}

.sv-segment .ant-segmented-item {
  border-radius: 12px !important;
}

/* IMPORTANT: kill any “white thumb” look */
.sv-segment .ant-segmented-thumb {
  background: linear-gradient(
    180deg,
    rgba(255, 138, 42, 0.20),
    rgba(120, 90, 255, 0.08)
  ) !important;
  border: 1px solid rgba(255, 138, 42, 0.30) !important;
  border-radius: 12px !important;
  box-shadow: var(--sv-glow) !important;
}

/* Labels inside segmented */
.sv-tab {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 2px 2px;
  color: rgba(244, 246, 251, 0.86);
  font-weight: 900;
}

.sv-tab-ic {
  display: inline-flex;
  opacity: 0.92;
}

.sv-tab-count {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 22px;
  height: 18px;
  padding: 0 6px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.08);
  border: 1px solid rgba(255, 255, 255, 0.12);
  font-size: 12px;
  font-weight: 950;
  color: rgba(244, 246, 251, 0.88);
}

/* ---------- 6) Grid ---------- */
.sv-grid {
  margin-top: 14px;
}

/* ---------- 7) Cards ---------- */
.sv-card {
  border-radius: var(--sv-r-md) !important;
  overflow: hidden;
  cursor: pointer;
  transition: transform 0.18s ease, box-shadow 0.18s ease, border-color 0.18s ease,
    background 0.18s ease;
}

.sv-card:hover {
  transform: translateY(-2px);
  border-color: rgba(255, 138, 42, 0.28) !important;
  box-shadow: 0 20px 55px rgba(0, 0, 0, 0.40), 0 0 0 1px rgba(255, 138, 42, 0.12);
}

/* Icon bubble */
.sv-icon {
  width: 46px;
  height: 46px;
  border-radius: 16px;
  display: grid;
  place-items: center;
  border: 1px solid rgba(255, 255, 255, 0.14);
  background: rgba(0, 0, 0, 0.18);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.10);
  color: rgba(244, 246, 251, 0.92);
}

.sv-icon.boost {
  border-color: rgba(255, 138, 42, 0.22);
  background: rgba(255, 138, 42, 0.10);
}
.sv-icon.badge {
  border-color: rgba(120, 90, 255, 0.24);
  background: rgba(120, 90, 255, 0.10);
}
.sv-icon.perk {
  border-color: rgba(255, 176, 102, 0.20);
  background: rgba(255, 176, 102, 0.10);
}

/* Body */
.sv-name {
  margin: 6px 0 0 !important;
  color: var(--sv-text) !important;
}

.sv-desc {
  margin: 6px 0 0 !important;
  color: var(--sv-muted) !important;
}

.sv-footer {
  margin-top: 10px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

.sv-cost {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 6px 10px;
  border-radius: 999px;
  background: rgba(0, 0, 0, 0.16);
  border: 1px solid rgba(255, 255, 255, 0.12);
  color: rgba(244, 246, 251, 0.88);
  font-weight: 900;
  font-variant-numeric: tabular-nums;
}

/* ---------- 8) Tags (NO WHITE PILLS) ---------- */
.skyrio-exchange .ant-tag {
  border-radius: 999px !important;
  font-weight: 900 !important;
  padding: 3px 10px !important;
  border: 1px solid rgba(255, 255, 255, 0.14) !important;
  background: rgba(255, 255, 255, 0.06) !important;
  color: rgba(244, 246, 251, 0.88) !important;
}

/* Kind tags */
.sv-kind.boost {
  background: rgba(255, 138, 42, 0.14) !important;
  border-color: rgba(255, 138, 42, 0.35) !important;
  color: rgba(255, 176, 102, 0.98) !important;
}
.sv-kind.badge {
  background: rgba(120, 90, 255, 0.14) !important;
  border-color: rgba(120, 90, 255, 0.35) !important;
  color: rgba(225, 220, 255, 0.94) !important;
}
.sv-kind.perk {
  background: rgba(255, 176, 102, 0.12) !important;
  border-color: rgba(255, 176, 102, 0.30) !important;
  color: rgba(255, 218, 178, 0.92) !important;
}

/* Requirement tag */
.sv-req {
  background: rgba(0, 0, 0, 0.18) !important;
  border-color: rgba(255, 255, 255, 0.14) !important;
  color: rgba(244, 246, 251, 0.82) !important;
}

/* GOLD tag passed as color="gold" — keep it on brand (no yellow sticker) */
.skyrio-exchange .ant-tag-gold {
  background: rgba(255, 138, 42, 0.14) !important;
  border-color: rgba(255, 138, 42, 0.38) !important;
  color: rgba(255, 176, 102, 0.98) !important;
}

/* ---------- 9) CTA button (Redeem) ---------- */
.sv-cta-row {
  display: flex;
  align-items: center;
}

.sv-cta {
  border-radius: 999px !important;
  font-weight: 950 !important;
  padding: 0 16px !important;
}

/* Primary button should be Skyrio orange gradient */
.skyrio-exchange .sv-cta.ant-btn-primary {
  background: linear-gradient(135deg, var(--sv-orange-2), var(--sv-orange)) !important;
  border: none !important;
  color: rgba(20, 10, 6, 0.92) !important;
  box-shadow: 0 10px 26px rgba(0, 0, 0, 0.28), 0 0 0 1px rgba(255, 138, 42, 0.12) !important;
}

.skyrio-exchange .sv-cta.ant-btn-primary:hover {
  filter: brightness(1.05);
  transform: translateY(-1px);
}

.skyrio-exchange .sv-cta.ant-btn-primary:active {
  transform: translateY(0px);
}

/* Disabled Redeem states: readable, not washed */
.skyrio-exchange .sv-cta.ant-btn-primary[disabled] {
  background: rgba(255, 255, 255, 0.08) !important;
  border: 1px solid rgba(255, 255, 255, 0.14) !important;
  color: rgba(244, 246, 251, 0.70) !important;
  box-shadow: none !important;
}

/* ---------- 10) Modal + Confirm styling ---------- */
.skyrio-exchange .ant-modal-content,
.skyrio-exchange .ant-modal-header {
  background: linear-gradient(180deg, var(--sv-surface-a), rgba(0, 0, 0, 0.18)) !important;
  border: 1px solid rgba(255, 255, 255, 0.12) !important;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

.skyrio-exchange .ant-modal-title {
  color: var(--sv-text) !important;
  font-weight: 950;
}

.skyrio-exchange .ant-modal-close-x {
  color: rgba(244, 246, 251, 0.82) !important;
}

/* Confirm panel text */
.sv-confirm b {
  color: rgba(255, 176, 102, 0.98);
}

/* Modal content */
.sv-modal .ant-typography {
  color: var(--sv-text) !important;
}

.sv-modal-cost {
  margin: 10px 0 6px;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 999px;
  background: rgba(255, 138, 42, 0.12);
  border: 1px solid rgba(255, 138, 42, 0.28);
  color: rgba(244, 246, 251, 0.92);
}

.sv-modal-cost b {
  color: rgba(255, 176, 102, 0.98);
}

/* ---------- 11) Focus rings (A11Y) ---------- */
.skyrio-exchange a:focus-visible,
.skyrio-exchange button:focus-visible,
.skyrio-exchange .ant-btn:focus-visible,
.skyrio-exchange .ant-input:focus-visible,
.skyrio-exchange .ant-input-affix-wrapper:focus-visible {
  outline: none !important;
  box-shadow: 0 0 0 3px rgba(255, 138, 42, 0.22),
    0 0 0 1px rgba(255, 138, 42, 0.52) !important;
  border-color: rgba(255, 138, 42, 0.55) !important;
}

/* ---------- 12) Responsive tweaks ---------- */
@media (max-width: 820px) {
  .sv-balance {
    min-width: auto;
  }
  .sv-header {
    padding: 14px 12px 12px;
  }
}

/* ---------- 13) Reduced motion ---------- */
@media (prefers-reduced-motion: reduce) {
  .sv-card,
  .sv-home-btn,
  .skyrio-exchange * {
    transition: none !important;
    animation: none !important;
  }
}