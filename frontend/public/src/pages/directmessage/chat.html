<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Chat ‚Äì One Sky Quest</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="./chat.css" />
</head>
<body class="bg-gray-100 text-gray-800">

  <!-- üîù Top Nav -->
  <header class="flex items-center p-4 bg-sky-500 text-white shadow">
    <button onclick="history.back()" class="text-white font-bold mr-4">‚Üê Back</button>
    <h1 class="text-lg font-semibold">Sora (Customer Support)</h1>
  </header>

  <!-- üí¨ Chat Messages -->
  <main id="chatWindow" class="flex flex-col space-y-4 p-4 h-[80vh] overflow-y-auto">
    <!-- Mock messages -->
    <div class="flex items-start space-x-2">
      <img src="/images/avatar-sora.png" alt="Sora" class="w-8 h-8 rounded-full" />
      <div class="bg-white p-3 rounded-lg shadow max-w-xs">Hi David! How can I help you plan your trip today?</div>
    </div>

    <div class="flex items-start space-x-2 justify-end">
      <div class="bg-blue-500 text-white p-3 rounded-lg shadow max-w-xs">Hey Sora! Can you help me find a beach getaway under $700?</div>
      <img src="/images/avatar-david.png" alt="You" class="w-8 h-8 rounded-full" />
    </div>

    <!-- Add more mock bubbles here -->
  </main>

  <!-- üìù Input Area -->
  <form id="messageForm" class="fixed bottom-0 left-0 right-0 p-4 bg-white flex gap-2 shadow-md">
    <input type="text" id="messageInput" placeholder="Type your message..." class="flex-1 border rounded-full px-4 py-2 focus:outline-none" />
    <button type="submit" class="bg-sky-500 text-white px-4 py-2 rounded-full">Send</button>
  </form>

  <script>
    // üí¨ Append messages for demo (will connect to Socket.io later)
    const form = document.getElementById('messageForm');
    const input = document.getElementById('messageInput');
    const chatWindow = document.getElementById('chatWindow');

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      const message = input.value.trim();
      if (!message) return;

      const bubble = document.createElement('div');
      bubble.className = 'flex items-start space-x-2 justify-end';
      bubble.innerHTML = `
        <div class="bg-blue-500 text-white p-3 rounded-lg shadow max-w-xs">${message}</div>
        <img src="/images/avatar-david.png" alt="You" class="w-8 h-8 rounded-full" />
      `;
      chatWindow.appendChild(bubble);
      chatWindow.scrollTop = chatWindow.scrollHeight;
      input.value = '';
    });
  </script>
</body>
</html>
